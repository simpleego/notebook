# 오라클 데이터 형식 2
## Oracle Data Types
## LONG, CLOB, NCLOB
### LOB 데이터 유형 개요

>LOB 데이터 유형 BLOB, CLLOB, NCLOB 및 BFILE을 사용하면 구조화되지 않은 데이터의 대규모 블록(예: 텍스트, 그래픽 이미지, 비디오 클립, 사운드 파형)을 이진 또는 문자 형식으로 저장하고 조작할 수 있습니다. 데이터 액세스는 효율적이고 무작위적이며 단편적인 액세스를 제공합니다. LOB 데이터 유형은 항상 LOB 데이터 유형에 사용하는 것이 좋습니다. LOB 열에 대해 병렬 쿼리(병렬 DML 또는 DDL)를 수행할 수 있습니다.

LOB 데이터 유형은 긴 RAW 데이터 유형 및 긴 RAW 데이터 유형과 여러 가지 면에서 다릅니다. 예를 들어 

  - 테이블에는 여러 LOB 열이 포함될 수 있지만 LONG 열은 하나만 포함될 수 있습니다. ​
  - 하나 이상의 LOB 열을 포함하는 테이블은 분할할 수 있지만 LONG 열을 포함하는 테이블은 분할할 수 없습니다.
  - LOB의 최대 크기는 데이터베이스 블록 크기에 따라 128 테라바이트이며, LOUNG의 최대 크기는 2 기가바이트에 불과합니다.
  - LOB는 데이터에 대한 랜덤 액세스를 지원하지만 LONG은 순차 액세스만 지원합니다.
  - LOB 데이터 유형(NCLOB 제외)은 사용자 정의 개체 유형의 속성일 수 있지만 LONG 데이터 유형은 속성일 수 없습니다.
  - 로컬 변수와 같은 역할을 하는 임시 LOB를 사용하여 LOB 데이터에 대한 변환을 수행할 수 있습니다. 임시 내부 LOB(BLOB, CLOB 및 NCLOB)

는 임시 테이블스페이스에 생성되며 테이블과 독립적입니다. 그러나 긴 데이터 유형의 경우 임시 구조를 사용할 수 없습니다.

  - LOB 열이 있는 테이블은 복제할 수 있지만, 열이 긴 테이블은 복제할 수 없습니다.​

SQL 문은 테이블의 LOB 열과 사용자 정의 개체 유형의 LOB 속성을 정의합니다. 표에서 LOB를 정의할 때 각 LOB에 대한 테이블 스페이스와 스토리지 특성을 명시적으로 지정할 수 있습니다.

LOB 데이터 유형은 인라인(테이블 내), Out-of-line(테이블 공간 내, LOB 로케이터 사용) 또는 외부 파일(BFILE 데이터 유형)에 저장할 수 있습니다. 호환성을 Oracle 9i 이상으로 설정하면 LOB를 SQL VARCHAR 연산자 및 함수와 함께 사용할 수 있습니다.

### BLOB 데이터 유형

> BLOB 데이터 유형은 구조화되지 않은 이진 데이터를 데이터베이스에 저장합니다. BLOB는 최대 128TB의 이진 데이터를 저장할 수 있습니다. BLOB는 트랜잭션에 완전히 참여합니다. DBMS_LOB 패키지, PL/SQL 또는 OCI에 의한 BLOB 값의 변경사항은 커밋하거나 롤백할 수 있습니다. 그러나 BLOB 로케이터는 트랜잭션이나 세션을 스팬할 수 없습니다.​

### CLOB 및 NCLOB 데이터 유형

> LOB 및 NCLOB 데이터 유형은 데이터베이스에 최대 128TB의 문자 데이터를 저장합니다. CLOB는 데이터베이스 문자 집합 데이터를 저장하고 NCLOB는 유니코드 문자 집합 데이터를 저장합니다. 다양한 너비 LOB 데이터를 내부적으로 고정 너비 유니코드 문자 집합에 저장하면 Oracle Database가 CLOB 및 NCLOB에 대해 효율적인 문자 기반 랜덤 액세스를 제공할 수 있습니다.

​CLOB와 NCLOB는 거래에 완전히 참여한다. DBMS_LOB 패키지, PL/SQL 또는 OCI에 의한 CLOB 또는 NCLOB 값의 변경사항은 커밋하거나 롤백할 수 있습니다. 그러나 CLOB 및 NCLOB 로케이터는 트랜잭션 또는 세션에 걸쳐 있을 수 없습니다. NCLOB 속성으로 개체 유형을 생성할 수는 없지만 개체 유형에 대한 메서드에서 NCLOB 매개 변수를 지정할 수 있습니다.
